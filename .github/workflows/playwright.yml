name: Playwright Tests

on:
  workflow_dispatch:
    inputs:
      environment:
        description: "Select environment"
        required: false          # ðŸ”¹ not required
        default: QAT             # ðŸ”¥ DEFAULT ENV
        type: choice
        options:
          - DEV
          - QAT
          - UAT

jobs:
  playwright-tests:
    runs-on: ubuntu-latest

    # ðŸ”¥ Picks QAT automatically if nothing is selected
    environment: ${{ github.event.inputs.environment || 'QAT' }}

    env:
      TEST_ENV: ${{ github.event.inputs.environment || 'QAT' }}

    steps:
      - uses: actions/checkout@v4
      - run: npm ci
      - run: npx playwright test
